{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport router from \"next/router\"; // import { Route, Switch, withRouter, Redirect,BrowserRouter } from \"react-router-dom\";\n\nimport DayPlan from \"./DayPlan\";\nimport Home from './Home';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../modules/userModule\";\nimport { auth } from \"../components/test/firebaseTest/firebaseTest\";\nimport { useFetchAllData } from \"../components/test/firebaseTest/DBFetch\";\nimport { init } from \"../modules/tasksModule\"; // ここでReduxのログイン処理を行う\n\nvar App = function App() {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      userId = _useSelector.userId; // const { data } = useMemo(() => useFetchAllData(), [userId]);\n\n\n  var _useFetchAllData = useFetchAllData(),\n      data = _useFetchAllData.data; // let RenderComponent: JSX.Element = <SignIn />;\n\n\n  var RenderComponent = __jsx(Home, null);\n\n  auth.onAuthStateChanged(function (authUser) {\n    if (authUser) {\n      // this.setState({\n      //   status: \"SIGNED_IN\"\n      // });\n      RenderComponent = __jsx(DayPlan, null);\n      console.log('check 1');\n      console.log(authUser.uid);\n\n      if (!!authUser.uid) {\n        dispatch(login(authUser.uid));\n        console.log(userId);\n        console.log(\"index data\");\n        console.log(data); // setUT(useSelector((state: RootState) => state.tasks));\n\n        if (!!data) {\n          dispatch(init(data));\n        }\n\n        router.push(\"/DayPlan\");\n        return RenderComponent;\n      }\n    } else {\n      // RenderComponent = <FirebaseAuthComponent />;\n      RenderComponent = __jsx(Home, null); // RenderComponent = <SignIn />;\n\n      console.log('check 2');\n      return RenderComponent;\n    }\n  });\n  return RenderComponent; // <DayPlan />\n  // <Tasks />\n  // <BrowserRouter>{routes}</BrowserRouter>\n  // <Container fixed>\n  //     <h1>Todo App</h1>\n  //     <Box component=\"span\" m={1} className={classes.button}>\n  //         {/* <Button variant=\"contained\" color=\"primary\">\n  //                 Test\n  //             </Button> */}\n  //         <FloatingActionButtonZoom />\n  //         <BottomNavigation />\n  //     </Box>\n  //     {/* <Box>\n  //     </Box> */}\n  // </Container>\n};\n\nexport default App; // ReactDOM.render( App );","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport router from \"next/router\";\nimport { auth } from \"../test/firebaseTest/firebaseTest\";\nimport App from '../../pages/index';\nexport default function withAuth(Component, pageName) {\n  // const [status,setStatus] = useState('LOADING');\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        status: \"LOADING\"\n      };\n    }\n\n    componentDidMount() {\n      auth.onAuthStateChanged(authUser => {\n        console.log(authUser);\n\n        if (authUser) {\n          this.setState({\n            status: \"SIGNED_IN\"\n          }); //   setStatus('SIGNED_IN')\n        } else {\n          if (pageName == 'SignIn') {\n            router.push(\"/SignIn\");\n          } else {\n            router.push(\"/Home\");\n          }\n        }\n      });\n    }\n\n    renderContent() {\n      const status = this.state.status;\n      console.log(status);\n\n      if (status == \"LOADING\") {\n        if (pageName == 'SignIn' || pageName == 'Home') {\n          return __jsx(Component, this.props);\n        }\n\n        return __jsx(\"h1\", null, \"Loading ......\");\n      } else if (status == \"SIGNED_IN\") {\n        if (pageName == 'SignIn') {\n          // router.push(\"/DayPlan\");\n          return __jsx(App, null);\n        }\n\n        return __jsx(Component, this.props);\n      }\n    }\n\n    render() {\n      return __jsx(React.Fragment, null, this.renderContent());\n    }\n\n  };\n} // export default withAuth;","map":null,"metadata":{},"sourceType":"module"}